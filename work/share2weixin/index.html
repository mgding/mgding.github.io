<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
	<title>document</title>
	<!-- <script type="text/javascript" src="jquery-1.7.2.js"></script> -->
<script>
        var imgUrl = "http://box.mapbar.com/img/index_ico_logo.png";
        var lineLink = "http://box.mapbar.com/";
        var descContent = '一款智能的安全行车伴侣系统，通过即插迷你终端设备及智能app软件，轻松构建手机与汽车的连接桥梁。';
        var shareTitle = '图吧汽车卫士';
        var appid = '';
         
        function shareFriend() {
            WeixinJSBridge.invoke('sendAppMessage',{
                "appid": appid,
                "img_url": imgUrl,
                "img_width": "98",
                "img_height": "97",
                "link": lineLink,
                "desc": descContent,
                "title": shareTitle
            }, function(res) {
                //_report('send_msg', res.err_msg);
            })
        }
        function shareTimeline() {
            WeixinJSBridge.invoke('shareTimeline',{
                "img_url": imgUrl,
                "img_width": "98",
                "img_height": "97",
                "link": lineLink,
                "desc": descContent,
                "title": shareTitle
            }, function(res) {
                   //_report('timeline', res.err_msg);
            });
        }
        function shareWeibo() {
            WeixinJSBridge.invoke('shareWeibo',{
                "content": descContent,
                "url": lineLink,
            }, function(res) {
                //_report('weibo', res.err_msg);
            });
        }
        // 当微信内置浏览器完成内部初始化后会触发WeixinJSBridgeReady事件。
        document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
            // 发送给好友
            WeixinJSBridge.on('menu:share:appmessage', function(argv){
                shareFriend();
            });
            // 分享到朋友圈
            WeixinJSBridge.on('menu:share:timeline', function(argv){
                shareTimeline();
            });
            // 分享到微博
            WeixinJSBridge.on('menu:share:weibo', function(argv){
                shareWeibo();
            });
        }, false);
window.onload=function(){
    function WeiXinShareBtn() {
        if (typeof WeixinJSBridge == "undefined") {
            alert(" 请先通过微信搜索 wow36kr 添加36氪为好友，通过微信分享文章 :) ");
        } else {
            WeixinJSBridge.invoke('shareTimeline', {
            "title": "图吧汽车卫士",
            "link": "http://box.mapbar.com/",
            "desc": "一款智能的安全行车伴侣系统，通过即插迷你终端设备及智能app软件，轻松构建手机与汽车的连接桥梁。",
            "img_url": "http://box.mapbar.com/img/index_ico_logo.png"
            });
        }
    }
    var oBtn = document.getElementById('btn');
    oBtn.onclick=function(){
        WeiXinShareBtn()
    }
}
</script>
</head>
<body>
    <button id="btn">分享到微信</button>
</body>
</html>